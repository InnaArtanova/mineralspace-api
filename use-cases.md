# Use Cases — MineralSpace

---

## UC-001 Зарегистрировать аккаунт

**Акторы**: Пользователь (гость)  
**Предусловия**:  
- Пользователь не авторизован  
- Устройство подключено к интернету
- Приложение устнавлено и открыто   

**Триггер**: Пользователь нажимает кнопку «Зарегистрироваться» в приложении  

**Постусловия**:  
- Пользователь находится на экране профиля  
- Аккаунт создан и доступен для использования  

### Основной поток

| Шаг | Актор | Действие | ID альтернативного потока |
|-----|-------|----------|----------------------------|
| 1 | Система | Отображает форму регистрации | — |
| 2 | Пользователь | Вводит email, имя, пароль и подтверждает пароль | A1, A2, A4 |
| 3 | Пользователь | Подтверждает согласие с условиями использования | — |
| 4 | Пользователь | Отправляет форму | A3 |
| 5 | Система | Отображает экран профиля | — |

### Альтернативные потоки

| ID | Точка входа (шаг) | Условие | Действие |
|----|-------------------|--------|--------|
| A1 | 2 | Email имеет неверный формат | Система информирует пользователя о недопустимом формате email и остаётся на форме |
| A2 | 2 | Пароли не совпадают | Система информирует пользователя о несовпадении паролей и остаётся на форме |
| A3 | 4 | Email уже зарегистрирован | Система информирует пользователя, что аккаунт с таким email уже существует, и остаётся на форме |
| A4 | 2 | Обязательные поля не заполнены | Система информирует пользователя о пропущенных обязательных полях и остаётся на форме |
| A5 | Любой | Пользователь нажимает ссылку «Уже есть аккаунт?» | Система отображает форму входа |

---

## UC-002 Зарегистрировать аккаунт через Google

**Акторы**: Пользователь (гость)  
**Предусловия**:  
- Пользователь не авторизован  
- Устройство подключено к интернету  
- У пользователя есть учётная запись Google
- Приложение установлено и открыто  

**Триггер**: Пользователь нажимает кнопку «Продолжить с Google» на экране регистрации  

**Постусловия**:  
- Аккаунт создан автоматически  
- Пользователь авторизован  
- Пользователь находится на экране его коллекций  

### Основной поток

| Шаг | Актор | Действие | ID альтернативного потока |
|-----|-------|----------|----------------------------|
| 1 | Пользователь | Нажимает кнопку «Продолжить с Google» | — |
| 2 | Система | Перенаправляет на страницу авторизации Google | — |
| 3 | Пользователь | Авторизуется в Google и подтверждает доступ | — |
| 5 | Система | Отображает экран профиля | A1 |

### Альтернативные потоки

| ID | Точка входа (шаг) | Условие | Действие |
|----|-------------------|--------|--------|
| A1 | 5 | Пользователь с таким email уже существует | Система выполняет вход вместо регистрации и отображает экран профиля |

---

## UC-003 Выполнить вход через Google

**Акторы**: Пользователь (гость)  
**Предусловия**:  
- Пользователь не авторизован  
- Устройство подключено к интернету  
- У пользователя есть учётная запись Google, связанная с аккаунтом в системе 
- Приложение установлено и открыто

**Триггер**: Пользователь нажимает кнопку «Войти с Google» на экране входа  

**Постусловия**:  
- Пользователь авторизован  
- Пользователь находится на экране профиля  

### Основной поток

| Шаг | Актор | Действие | ID альтернативного потока |
|-----|-------|----------|----------------------------|
| 1 | Пользователь | Нажимает кнопку «Войти с Google» | — |
| 2 | Система | Перенаправляет на страницу авторизации Google | — |
| 3 | Пользователь | Авторизуется в Google и подтверждает доступ | — |

| 5 | Система | Отображает экран профиля | — |

### Альтернативные потоки

| ID | Точка входа (шаг) | Условие | Действие |
|----|-------------------|--------|--------|
| A1 | 4 | Аккаунт с таким email не найден | Система предлагает зарегистрироваться и перенаправляет на экран регистрации |

---

## UC-004 Выполнить вход

**Акторы**: Пользователь (гость)  
**Предусловия**:  
- Пользователь не авторизован  
- Устройство подключено к интернету 
- Приложение установлено и открыто


**Триггер**: Пользователь нажимает кнопку «Войти» в приложении  

**Постусловия**:  
- Пользователь авторизован  
- Пользователь находится на экране с его коллекциями 

### Основной поток

| Шаг | Актор | Действие | ID альтернативного потока |
|-----|-------|----------|----------------------------|
| 1 | Система | Отображает форму входа | — |
| 2 | Пользователь | Вводит email и пароль | A1 |
| 3 | Пользователь | Отправляет форму | A2 |
| 4 | Система | Отображает экран профиля | — |

### Альтернативные потоки

| ID | Точка входа (шаг) | Условие | Действие |
|----|-------------------|--------|--------|
| A1 | 2 | Email имеет неверный формат | Система информирует пользователя о недопустимом формате email и остаётся на форме |
| A2 | 3 | Неверный пароль или email | Система информирует пользователя, что данные для входа неверны, и остаётся на форме |
| A3 | Любой | Пользователь нажимает ссылку «Нет аккаунта?» | Система отображает форму регистрации |

---

## UC-005 Редактировать профиль

**Акторы**: Авторизованный пользователь  
**Предусловия**:  
- Пользователь авторизован  
- Устройство подключено к интернету  

**Триггер**: Пользователь нажимает кнопку «Редактировать профиль» на экране профиля  

**Постусловия**:  
- Профиль обновлён  
- Пользователь видит актуальные данные  

### Основной поток

| Шаг | Актор | Действие | ID альтернативного потока |
|-----|-------|----------|----------------------------|
| 1 | Пользователь | Открывает экран профиля | — |
| 2 | Пользователь | Нажимает кнопку «Редактировать профиль» | — |
| 3 | Система | Отображает форму редактирования профиля | — |
| 4 | Пользователь | Вносит изменения | — |
| 5 | Пользователь | Сохраняет изменения | A1 |
| 6 | Система | Отображает обновлённый профиль | — |

### Альтернативные потоки

| ID | Точка входа (шаг) | Условие | Действие |
|----|-------------------|--------|--------|

|невозможности сохранить изменения и остаётся на форме |
| A1 | 5 | Обязательные поля не заполнены или содержат недопустимые значения | Система информирует пользователя о некорректных данных и остаётся на форме |

---

## UC-006 Удалить аккаунт

**Акторы**: Авторизованный пользователь  
**Предусловия**:  
- Пользователь авторизован  
- Устройство подключено к интернету  

**Триггер**: Пользователь нажимает кнопку «Удалить аккаунт» в настройках профиля  

**Постусловия**:  
- Аккаунт удалён  
- Сессия завершена  
- Пользователь возвращён на экран приветствия  

### Основной поток

| Шаг | Актор | Действие | ID альтернативного потока |
|-----|-------|----------|----------------------------|
| 1 | Пользователь | Открывает экран профиля | — |
| 2 | Пользователь | Нажимает кнопку «Удалить аккаунт» | — |
| 3 | Система | Отображает подтверждение удаления | — |
| 4 | Пользователь | Подтверждает удаление | A1 |
| 5 | Система | Завершает сессию и возвращает пользователя на экран приветствия | — |

### Альтернативные потоки

| ID | Точка входа (шаг) | Условие | Действие |
|----|-------------------|--------|--------|
| A1 | 4 | Ошибка сервера | Система информирует пользователя о невозможности удалить аккаунт и остаётся на экране подтверждения |

---

## UC-007 Создать коллекцию

**Акторы**: Авторизованный пользователь  
**Предусловия**:  
- Пользователь авторизован  
- Устройство подключено к интернету 
- Приложение установлено и открыто


**Триггер**: Пользователь нажимает кнопку «Создать коллекцию» на экране своих коллекций  

**Постусловия**:  
- Коллекция создана и отображается в списке  
- Коллекция доступна для добавления образцов  

### Основной поток

| Шаг | Актор | Действие | ID альтернативного потока |
|-----|-------|----------|----------------------------|
| 1 | Система | Отображает форму создания коллекции | — |
| 2 | Пользователь | Вводит название коллекции и, при желании, описание | A1 |
| 3 | Пользователь | Выбирает видимость: публичная или приватная | — |
| 4 | Пользователь | Отправляет форму | - |
| 5 | Система | Отображает новую коллекцию в списке | — |

### Альтернативные потоки

| ID | Точка входа (шаг) | Условие | Действие |
|----|-------------------|--------|--------|
| A1 | 2 | Название коллекции не указано | Система информирует пользователя, что название обязательно, и остаётся на форме |

---

## UC-008 Редактировать коллекцию

**Акторы**: Авторизованный пользователь  
**Предусловия**:  
- Пользователь авторизован  
- У пользователя есть хотя бы одна коллекция  
- Устройство подключено к интернету 
- Приложение установлено и открыто


**Триггер**: Пользователь нажимает кнопку «Редактировать коллекцию» внутри своей коллекции  

**Постусловия**:  
- Коллекция обновлена  
- Изменения отображаются в интерфейсе  

### Основной поток

| Шаг | Актор | Действие | ID альтернативного потока |
|-----|-------|----------|----------------------------|
| 1 | Пользователь | Открывает свою коллекцию | — |
| 2 | Пользователь | Нажимает кнопку «Редактировать коллекцию» | — |
| 3 | Система | Отображает форму редактирования коллекции | — |
| 4 | Пользователь | Изменяет данные | — |
| 5 | Пользователь | Сохраняет изменения | A1 |
| 6 | Система | Отображает обновлённую коллекцию | — |

### Альтернативные потоки

| ID | Точка входа (шаг) | Условие | Действие |
|----|-------------------|--------|--------|
| A1 | 5 | Обязательные поля не заполнены или содержат недопустимые значения | Система информирует пользователя о некорректных данных и остаётся на форме |

---

## UC-009 Удалить коллекцию

**Акторы**: Авторизованный пользователь  
**Предусловия**:  
- Пользователь авторизован  
- У пользователя есть хотя бы одна коллекция  
- Устройство подключено к интернету 
- Приложение создано и открыто

**Триггер**: Пользователь нажимает кнопку «Удалить коллекцию» внутри своей коллекции  

**Постусловия**:  
- Коллекция удалена  
- Пользователь возвращён к списку коллекций  

### Основной поток

| Шаг | Актор | Действие | ID альтернативного потока |
|-----|-------|----------|----------------------------|
| 1 | Пользователь | Открывает свою коллекцию | — |
| 2 | Пользователь | Нажимает кнопку «Удалить коллекцию» | — |
| 3 | Система | Отображает подтверждение удаления | — |
| 4 | Пользователь | Подтверждает удаление | А1 |
| 5 | Система | Возвращает пользователя к списку коллекций | — |

### Альтернативные потоки

| ID | Точка входа (шаг) | Условие | Действие |
|----|-------------------|--------|--------|
| A1 | 4 | Пользователь отменяет удаление коллекции | Система возвращает пользователя на экран коллекции |
---

## UC-010 Добавить в коллекцию образец

**Акторы**: Авторизованный пользователь  
**Предусловия**:  
- Пользователь авторизован  
- У пользователя есть хотя бы одна коллекция  
- Устройство подключено к интернету
- Приложение установлено и отрыто

**Триггер**: Пользователь нажимает кнопку «Добавить образец» в выбранной коллекции  

**Постусловия**:  
- Образец добавлен в коллекцию  
- Отображается карточка товара 

### Основной поток

| Шаг | Актор | Действие | ID альтернативного потока |
|-----|-------|----------|----------------------------|
| 1 | Система | Отображает форму добавления образца | — |
| 2 | Пользователь | Заполняет обязательные поля: название минерала, регион | A1 |
| 3 | Пользователь | Отправляет форму | A2 |
| 4 | Система | Отображает уведомление об успешном добавлении и возвращает пользователя в коллекцию | — |

### Альтернативные потоки

| ID | Точка входа (шаг) | Условие | Действие |
|----|-------------------|--------|--------|
| A1 | 2 | Не заполнены обязательные поля | Система информирует пользователя о пропущенных полях и остаётся на форме |
| A2 | 3 | Ошибка сервера | Система информирует пользователя о невозможности сохранить образец и остаётся на форме |

---

## UC-011 Редактировать образец

**Акторы**: Авторизованный пользователь  
**Предусловия**:  
- Пользователь авторизован  
- Устройство подключено к интернету
- Приложение установлено и открыто  

**Триггер**: Пользователь нажимает кнопку «Редактировать образец» на экране своего образца  

**Постусловия**:  
- Образец обновлён  
- Изменения отображаются в интерфейсе  

### Основной поток

| Шаг | Актор | Действие | ID альтернативного потока |
|-----|-------|----------|----------------------------|
| 1 | Пользователь | Открывает свой образец | — |
| 2 | Пользователь | Нажимает кнопку «Редактировать образец» | — |
| 3 | Система | Отображает форму редактирования образца | — |
| 4 | Пользователь | Изменяет данные | — |
| 5 | Пользователь | Сохраняет изменения | A1 |
| 6 | Система | Отображает обновлённый образец | — |

### Альтернативные потоки

| ID | Точка входа (шаг) | Условие | Действие |
|----|-------------------|--------|--------|
| A1 | 5 | Обязательные поля не заполнены или содержат недопустимые значения | Система информирует пользователя о некорректных данных и остаётся на форме |

---

## UC-012 Удалить образец

**Акторы**: Авторизованный пользователь  
**Предусловия**:  
- Пользователь авторизован 
- Пользователь открыл карточку образца 
- Устройство подключено к интернету  
- Приложение установлено и открыто 


**Триггер**: Пользователь нажимает кнопку «Удалить образец» на экране своего образца  

**Постусловия**:  
- Образец удалён  
- Пользователь возвращён в коллекцию  

### Основной поток

| Шаг | Актор | Действие | ID альтернативного потока |
|-----|-------|----------|----------------------------|
| 1 | Пользователь | Открывает свой образец | — |
| 2 | Пользователь | Нажимает кнопку «Удалить образец» | — |
| 3 | Система | Отображает подтверждение удаления | — |
| 4 | Пользователь | Подтверждает удаление | А1 |
| 5 | Система | Возвращает пользователя в коллекцию | — |

### Альтернативные потоки

| ID | Точка входа (шаг) | Условие | Действие |
|----|-------------------|--------|--------|
| A1 | 4 | Пользователь отменяет удаление образца | Система возвращает пользователя на экран образца |
---

## UC-013 Добавить комментарий к образцу

**Акторы**: Авторизованный пользователь  
**Предусловия**:  
- Пользователь авторизован 
- Пользователь открыл карточку образца с комментарием
- Образец принадлежит публичной коллекции  
- Устройство подключено к интернету 
- Приложение установлено и открыто 

**Триггер**: Пользователь нажимает кнопку «Написать комментарий» под образцом  

**Постусловия**:  
- Комментарий опубликован под образцом  
- Комментарий виден другим пользователям  

### Основной поток

| Шаг | Актор | Действие | ID альтернативного потока |
|-----|-------|----------|----------------------------|
| 1 | Система | Открывает поле ввода текста комментария | — |
| 2 | Пользователь | Вводит текст комментария | — |
| 3 | Пользователь | Отправляет комментарий | A1 |
| 4 | Система | Отображает комментарий под образцом и показывает уведомление об успешной публикации | — |

### Альтернативные потоки

| ID | Точка входа (шаг) | Условие | Действие |
|----|-------------------|--------|--------|
| A1 | 3 | Пользователь оставляет поле для комментария пустым | Система отображает сообщение о необходимости ввести комментарий |
---

## UC-014 Удалить комментарий к образцу

**Акторы**: Авторизованный пользователь (автор комментария)  
**Предусловия**:  
- Пользователь авторизован  
- Комментарий принадлежит пользователю
- Пользователь открыл карточку образца с комментарием  
- Устройство подключено к интернету 
- Приложение уствновлено и открыто

**Триггер**: Пользователь нажимает кнопку «Удалить комментарий» под своим комментарием  

**Постусловия**:  
- Комментарий удалён  
- Комментарий больше не отображается под образцом  

### Основной поток

| Шаг | Актор | Действие | ID альтернативного потока |
|-----|-------|----------|----------------------------|
| 1 | Пользователь | Находит свой комментарий под образцом | — |
| 2 | Пользователь | Нажимает кнопку «Удалить комментарий» | — |
| 3 | Система | Отображает подтверждение удаления | A1 |
| 4 | Пользователь | Подтверждает удаление | — |
| 5 | Система | Удаляет комментарий из списка и показывает уведомление | — |

### Альтернативные потоки

| ID | Точка входа (шаг) | Условие | Действие |
|----|-------------------|--------|--------|
| A1 | 3 | Пользователь отменяет удаление комментария | Система переводит пользователь переводит пользователь на карточку образца |

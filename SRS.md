## 3.1 Функциональные требования

### Общие соглашения
- Все эндпоинты защищены JWT-токеном, кроме `/auth/register` и `/auth/login`.
- Ответы возвращаются в формате JSON.
- Идентификаторы (`id`) имеют тип UUID v4.
- Временные метки (`created_at`, `updated_at`) в формате ISO 8601 с временной зоной UTC.

---

### FR-AUTH — Аутентификация и управление аккаунтом

| ID | Требование | Описание |
|----|------------|--------|
| **FR-AUTH-01** | Пользователь может зарегистрироваться по email и паролю | Система принимает email, пароль (≥8 символов) и имя. Email должен быть уникальным. Пароль хешируется bcrypt. |
| **FR-AUTH-02** | Пользователь может войти по email и паролю | При успешной аутентификации возвращается JWT-токен с `exp=30 минут`. |
| **FR-AUTH-03** | Пользователь может получить свой профиль | Эндпоинт `/me` возвращает данные: `id`, `name`, `avatar_url`, `bio`, `created_at`. |
| **FR-AUTH-04** | Пользователь может обновить свой профиль | Можно изменить: `name`, `avatar_url`, `bio`, `phone_number`. |
| **FR-AUTH-05** | Пользователь может удалить свой аккаунт | Удаление удаляет все связанные коллекции, образцы и комментарии (CASCADE). |

---

### FR-COL — Управление коллекциями

| ID | Требование | Описание |
|----|------------|--------|
| **FR-COL-01** | Пользователь может создать коллекцию | Коллекция содержит: `title` (обязательно), `description` (опционально), `is_public` (по умолчанию `false`). |
| **FR-COL-02** | Пользователь может редактировать свою коллекцию | Можно изменить: `title`, `description`, `is_public`. |
| **FR-COL-03** | Пользователь может удалить свою коллекцию | Удаление удаляет все связанные образцы и комментарии к ним. |
| **FR-COL-04** | Коллекция может быть публичной или приватной | Приватные коллекции недоступны другим пользователям. |

---

### FR-SPEC — Управление образцами

| ID | Требование | Описание |
|----|------------|--------|
| **FR-SPEC-01** | Пользователь может добавить образец в свою коллекцию | Образец содержит: `mineral_id` (обязательно), `region` (обязательно), `local_name`, `latitude`, `longitude`, `photo